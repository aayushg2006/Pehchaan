spring.application.name=backend

# --- Database Configuration (Supabase with PostGIS) ---
# These are now the single source of truth
spring.datasource.url=jdbc:postgresql://aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres
spring.datasource.username=postgres.vgvqttksmrrkvvaausmj
spring.datasource.password=${SUPABASE_PASSWORD}

# --- Hibernate Settings ---
spring.jpa.hibernate.ddl-auto=update


spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# --- JWT Configuration ---
jwt.secret.key=${JWT_SECRET_KEY}

# ✅ --- NEW: HIKARI POOL FIX FOR SUPABASE ---
# This fixes the "Connection has been closed" errors
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.max-lifetime=180000
spring.datasource.hikari.idle-timeout=120000

# ✅ --- THIS IS THE FIX FOR THE "max clients reached" ERROR ---
spring.datasource.hikari.maximum-pool-size=3